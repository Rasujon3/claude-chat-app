‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ tutorial document ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá:
‚úÖ 30‡¶ü‡¶ø Video ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø Complete Content
‚úÖ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø Line ‡¶è‡¶∞ Detailed Explanation
‚úÖ 6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶∏‡¶π‡¶ú ‡¶≠‡¶æ‡¶∑‡¶æ‡¶Ø‡¶º
‚úÖ Bangla ‡¶§‡ßá ‡¶≤‡ßá‡¶ñ‡¶æ
‚úÖ Code + Explanation ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá
Document ‡¶è ‡¶ï‡¶ø ‡¶ï‡¶ø ‡¶Ü‡¶õ‡ßá:

Video 1-4: Project setup ‡¶è‡¶¨‡¶Ç initial configuration
Video 5-9: Database design ‡¶è‡¶¨‡¶Ç Prisma setup
Video 10-14: Project structure ‡¶è‡¶¨‡¶Ç utilities
Video 15-18: User module (Service, Controller, Routes)
Video 19-22: Room module
Video 23-26: Message module
Video 27: Socket.io real-time functionality
Video 28: Main server file
Video 29: HTML Client
Video 30: Testing ‡¶è‡¶¨‡¶Ç debugging

‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø code line ‡¶è‡¶∞ ‡¶™‡¶æ‡¶∂‡ßá ‡¶¶‡ßÅ‡¶á‡¶ü‡¶æ explanation ‡¶Ü‡¶õ‡ßá:

Technical explanation (developers ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)
6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ‡¶∞ explanation (‡¶è‡¶ï‡¶¶‡¶Æ ‡¶∏‡¶π‡¶ú ‡¶≠‡¶æ‡¶∑‡¶æ‡¶Ø‡¶º)

‡¶è‡¶á document ‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø copy ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶æ .md file ‡¶è save ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶® ‡¶Ö‡¶•‡¶¨‡¶æ Word/Google Docs ‡¶è paste ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø video ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ section ‡¶Ü‡¶õ‡ßá ‡¶Ø‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ tutorial recording ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø perfect ‡¶π‡¶¨‡ßá! üé•üìö


---

# Chat Application - ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ Tutorial (30 Videos)

---

## Video 1: ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü Introduction ‡¶è‡¶¨‡¶Ç Setup

### ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶ø?
‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø real-time chat application ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá:
- Users register ‡¶è‡¶¨‡¶Ç login ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá
- Chat rooms ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá
- Real-time message ‡¶™‡¶æ‡¶†‡¶æ‡¶§‡ßá ‡¶è‡¶¨‡¶Ç receive ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá

### Technology Stack:
- **Fastify**: Fast web server (‡¶è‡¶ï‡¶ü‡¶ø ‡¶ó‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶Ø‡¶æ request ‡¶®‡¶ø‡¶Ø‡¶º‡ßá response ‡¶¶‡ßá‡¶Ø‡¶º)
- **Socket.io**: Real-time communication (‡¶Ø‡ßá‡¶Æ‡¶® walkie-talkie)
- **Prisma**: Database ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡ßá (‡¶è‡¶ï‡¶ü‡¶ø translator ‡¶è‡¶∞ ‡¶Æ‡¶§‡ßã)
- **MySQL**: Data ‡¶∞‡¶æ‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ (‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶°‡¶º ‡¶Ü‡¶≤‡¶Æ‡¶æ‡¶∞‡¶ø)
- **TypeScript**: JavaScript ‡¶è‡¶∞ smart version (‡¶≠‡ßÅ‡¶≤ ‡¶ï‡¶Æ ‡¶π‡¶Ø‡¶º)

### Initial Setup Commands:

```bash
# ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶§‡ßÅ‡¶® folder ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßã
mkdir chat-app

# ‡¶ê folder ‡¶è ‡¶¢‡ßÅ‡¶ï‡ßã
cd chat-app

# Node.js project ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßã
npm init -y
```

**Explanation (6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ‡¶∞ ‡¶Æ‡¶§‡ßã):**
- `mkdir chat-app` = ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶¨‡¶ï‡ßç‡¶∏ (folder) ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì ‡¶Ø‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ "chat-app"
- `cd chat-app` = ‡¶ê ‡¶¨‡¶ï‡ßç‡¶∏‡ßá‡¶∞ ‡¶≠‡¶ø‡¶§‡¶∞‡ßá ‡¶¢‡ßÅ‡¶ï‡ßá ‡¶Ø‡¶æ‡¶ì
- `npm init -y` = ‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶è‡¶ï‡¶ü‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ (package.json) ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡¶ø‡¶ñ‡¶¨‡ßá ‡¶ï‡¶ø ‡¶ï‡¶ø ‡¶ú‡¶ø‡¶®‡¶ø‡¶∏ ‡¶Ü‡¶õ‡ßá

---

## Video 2: Dependencies Install ‡¶ï‡¶∞‡¶æ

### Main Dependencies Install:

```bash
npm install fastify @fastify/cors @fastify/websocket socket.io @prisma/client bcryptjs jsonwebtoken dotenv @fastify/static
```

**‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø package ‡¶ï‡¶ø ‡¶ï‡¶∞‡ßá:**
- `fastify`: Server ‡¶¨‡¶æ‡¶®‡¶æ‡¶§‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡ßá (‡¶è‡¶ï‡¶ü‡¶æ ‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶ñ‡ßã‡¶≤‡¶æ‡¶∞ ‡¶Æ‡¶§‡ßã)
- `@fastify/cors`: ‡¶Ö‡¶®‡ßç‡¶Ø website ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶∏‡¶§‡ßá permission ‡¶¶‡ßá‡¶Ø‡¶º (‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá ‡¶∏‡¶¨‡¶æ‡¶á‡¶ï‡ßá ‡¶¢‡ßÅ‡¶ï‡¶§‡ßá ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ)
- `socket.io`: Real-time ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø (‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶´‡ßã‡¶®‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã)
- `@prisma/client`: Database ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡ßá (translator)
- `bcryptjs`: Password ‡¶≤‡ßÅ‡¶ï‡¶ø‡¶Ø‡¶º‡ßá ‡¶∞‡¶æ‡¶ñ‡ßá (secret code ‡¶è ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßá)
- `jsonwebtoken`: User ‡¶ö‡¶ø‡¶®‡¶§‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡ßá (ID card ‡¶è‡¶∞ ‡¶Æ‡¶§‡ßã)
- `dotenv`: Secret information ‡¶∞‡¶æ‡¶ñ‡ßá (‡¶è‡¶ï‡¶ü‡¶æ ‡¶§‡¶æ‡¶≤‡¶æ ‡¶≤‡¶æ‡¶ó‡¶æ‡¶®‡ßã ‡¶ñ‡¶æ‡¶§‡¶æ)
- `@fastify/static`: HTML file ‡¶¶‡ßá‡¶ñ‡¶æ‡¶Ø‡¶º (‡¶¨‡¶á‡¶Ø‡¶º‡ßá‡¶∞ ‡¶™‡¶æ‡¶§‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶Æ‡¶§‡ßã)

### Dev Dependencies Install:

```bash
npm install -D typescript @types/node @types/bcryptjs @types/jsonwebtoken prisma ts-node-dev
```

**‡¶è‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ï‡¶ø ‡¶ï‡¶∞‡ßá:**
- `typescript`: Code ‡¶≤‡ßá‡¶ñ‡¶æ‡¶∞ smart ‡¶â‡¶™‡¶æ‡¶Ø‡¶º (‡¶≠‡ßÅ‡¶≤ ‡¶¶‡ßá‡¶ñ‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡ßá‡¶Ø‡¶º)
- `@types/*`: TypeScript ‡¶ï‡ßá ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡ßá
- `prisma`: Database ‡¶§‡ßà‡¶∞‡¶ø ‡¶è‡¶¨‡¶Ç manage ‡¶ï‡¶∞‡ßá
- `ts-node-dev`: Code save ‡¶ï‡¶∞‡¶≤‡ßá‡¶á server ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶∞‡ßá ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶π‡¶Ø‡¶º (auto-refresh)

---

## Video 3: TypeScript Configuration

### tsconfig.json ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ:

```bash
npx tsc --init
```

**‡¶è‡¶ü‡¶æ ‡¶ï‡¶ø ‡¶ï‡¶∞‡ßá:** TypeScript ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶æ rule book ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá

### tsconfig.json File:

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
```

**Line by Line Explanation:**

```json
"target": "ES2020"
```
- **‡¶Æ‡¶æ‡¶®‡ßá:** Code ‡¶ï‡ßã‡¶® version ‡¶è convert ‡¶π‡¶¨‡ßá
- **6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶Ø‡¶º ‡¶≤‡¶ø‡¶ñ‡¶≤‡ßá ‡¶∏‡ßá‡¶ü‡¶æ ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø‡¶§‡ßá ‡¶ï‡¶∞‡¶¨‡ßá (ES2020 version)

```json
"module": "commonjs"
```
- **‡¶Æ‡¶æ‡¶®‡ßá:** Files ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶è‡¶ï‡ßá ‡¶Ö‡¶™‡¶∞‡¶ï‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá
- **6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶è‡¶ï ‡¶ñ‡ßá‡¶≤‡¶®‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ñ‡ßá‡¶≤‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡ßÅ‡¶°‡¶º‡¶¨‡ßá

```json
"outDir": "./dist"
```
- **‡¶Æ‡¶æ‡¶®‡ßá:** Compiled code ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º ‡¶Ø‡¶æ‡¶¨‡ßá
- **6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶∞‡¶æ‡¶®‡ßç‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶ï‡ßã‡¶® ‡¶¨‡¶æ‡¶ü‡¶ø‡¶§‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá (dist folder ‡¶è)

```json
"rootDir": "./src"
```
- **‡¶Æ‡¶æ‡¶®‡ßá:** ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ code ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º ‡¶Ü‡¶õ‡ßá
- **6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º ‡¶Ü‡¶õ‡ßá (src folder ‡¶è)

```json
"strict": true
```
- **‡¶Æ‡¶æ‡¶®‡ßá:** ‡¶ñ‡ßÅ‡¶¨ strict rules follow ‡¶ï‡¶∞‡¶¨‡ßá
- **6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶ñ‡ßÅ‡¶¨ strict, ‡¶∏‡¶¨ ‡¶†‡¶ø‡¶ï ‡¶®‡¶æ ‡¶π‡¶≤‡ßá error ‡¶¶‡ßá‡¶¨‡ßá

---

## Video 4: Prisma Setup ‡¶è‡¶¨‡¶Ç Database Connection

### Prisma Initialize:

```bash
npx prisma init
```

**‡¶è‡¶ü‡¶æ ‡¶ï‡¶ø ‡¶ï‡¶∞‡ßá:** 
- ‡¶è‡¶ï‡¶ü‡¶æ `prisma` folder ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá
- ‡¶è‡¶ï‡¶ü‡¶æ `.env` file ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá (secret information ‡¶∞‡¶æ‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)

### .env File:

```env
DATABASE_URL="mysql://username:password@localhost:3306/chatdb"
JWT_SECRET="your-secret-key"
```

**Line by Line:**

```env
DATABASE_URL="mysql://username:password@localhost:3306/chatdb"
```
- **mysql://**: Database ‡¶è‡¶∞ type (MySQL use ‡¶ï‡¶∞‡¶õ‡¶ø)
- **username**: Database ‡¶è‡¶∞ user name (‡¶Ø‡ßá‡¶Æ‡¶®: root)
- **password**: Database ‡¶è‡¶∞ password
- **localhost**: Computer ‡¶è‡¶∞ ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ address (127.0.0.1)
- **3306**: MySQL ‡¶è‡¶∞ door number (port)
- **chatdb**: Database ‡¶è‡¶∞ ‡¶®‡¶æ‡¶Æ

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶è‡¶ü‡¶æ ‡¶π‡¶≤‡ßã ‡¶è‡¶ï‡¶ü‡¶æ address ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá data ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶Ü‡¶õ‡ßá‡•§ ‡¶Ø‡ßá‡¶Æ‡¶®: "‡¶¢‡¶æ‡¶ï‡¶æ/‡¶Æ‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞/‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶®‡¶Ç 10"

```env
JWT_SECRET="your-secret-key"
```
- **‡¶Æ‡¶æ‡¶®‡ßá:** Password ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã‡¶∞ secret code
- **6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ diary ‡¶§‡ßá ‡¶≤‡ßá‡¶ñ‡¶æ‡¶∞ secret password

---

## Video 5: Prisma Schema - Database Design

### prisma/schema.prisma File:

```prisma
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
```

**Explanation:**
- `datasource db`: Database ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá connection
- `provider = "mysql"`: ‡¶Ü‡¶Æ‡¶∞‡¶æ MySQL ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶õ‡¶ø
- `url = env("DATABASE_URL")`: .env file ‡¶•‡ßá‡¶ï‡ßá address ‡¶®‡¶ø‡¶ö‡ßç‡¶õ‡¶ø

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- `datasource db` = ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ data storage ‡¶è‡¶∞ ‡¶®‡¶æ‡¶Æ
- `provider = "mysql"` = ‡¶ï‡ßã‡¶® company ‡¶è‡¶∞ storage ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶õ‡¶ø
- `url` = storage ‡¶è‡¶∞ address

```prisma
generator client {
  provider = "prisma-client-js"
}
```

**Explanation:**
- Prisma Client ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶¨‡ßá ‡¶Ø‡¶æ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá database ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶¨‡ßã
- JavaScript code generate ‡¶ï‡¶∞‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶è‡¶ï‡¶ü‡¶æ translator ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì ‡¶Ø‡ßá ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶•‡ßá‡¶ï‡ßá database language ‡¶è translate ‡¶ï‡¶∞‡¶¨‡ßá

---

## Video 6: User Model - User Table Design

```prisma
model User {
  id        String   @id @default(uuid())
  username  String   @unique
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  messages  Message[]
}
```

**Line by Line Explanation:**

```prisma
model User {
```
- **‡¶Æ‡¶æ‡¶®‡ßá:** User ‡¶®‡¶æ‡¶Æ‡ßá ‡¶è‡¶ï‡¶ü‡¶æ table ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì
- **6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶è‡¶ï‡¶ü‡¶æ notebook ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá users ‡¶è‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶≤‡¶ø‡¶ñ‡¶¨‡ßã

```prisma
id        String   @id @default(uuid())
```
- `id`: ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶æ user ‡¶è‡¶∞ unique ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ (‡¶Ø‡ßá‡¶Æ‡¶® roll number)
- `String`: ‡¶è‡¶ü‡¶æ text ‡¶π‡¶¨‡ßá
- `@id`: ‡¶è‡¶ü‡¶æ main ‡¶ö‡¶ø‡¶π‡ßç‡¶® (primary key)
- `@default(uuid())`: Automatically ‡¶è‡¶ï‡¶ü‡¶æ unique ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶®‡¶æ‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶æ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶æ ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ roll number ‡¶•‡¶æ‡¶ï‡ßá, ‡¶è‡¶ü‡¶æ‡¶ì ‡¶∏‡ßá‡¶∞‡¶ï‡¶Æ

```prisma
username  String   @unique
```
- `username`: User ‡¶è‡¶∞ ‡¶®‡¶æ‡¶Æ
- `@unique`: ‡¶¶‡ßÅ‡¶á‡¶ú‡¶® ‡¶è‡¶ï‡¶á ‡¶®‡¶æ‡¶Æ ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Class ‡¶è ‡¶¶‡ßÅ‡¶á‡¶ú‡¶® ‡¶è‡¶ï‡¶á roll number ‡¶™‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶®‡¶æ

```prisma
email     String   @unique
```
- `email`: User ‡¶è‡¶∞ email address
- `@unique`: ‡¶¶‡ßÅ‡¶á‡¶ú‡¶® ‡¶è‡¶ï‡¶á email ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ

```prisma
password  String
```
- `password`: User ‡¶è‡¶∞ password (‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã ‡¶•‡¶æ‡¶ï‡¶¨‡ßá)

```prisma
createdAt DateTime @default(now())
```
- `createdAt`: User ‡¶ï‡¶¨‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
- `@default(now())`: Automatically ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ date time save ‡¶π‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶¨‡ßá school ‡¶è ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßã ‡¶∏‡ßá‡¶á date

```prisma
updatedAt DateTime @updatedAt
```
- `updatedAt`: ‡¶∂‡ßá‡¶∑‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶¨‡ßá update ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
- `@updatedAt`: Automatically update ‡¶π‡¶¨‡ßá

```prisma
messages  Message[]
```
- `messages`: ‡¶è‡¶á user ‡¶Ø‡¶§ messages ‡¶™‡¶æ‡¶†‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶∏‡¶¨
- `Message[]`: Message table ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá relation (array ‡¶Æ‡¶æ‡¶®‡ßá ‡¶Ö‡¶®‡ßá‡¶ï‡¶ó‡ßÅ‡¶≤‡ßã)

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶è‡¶ï‡¶ü‡¶æ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ ‡¶Ö‡¶®‡ßá‡¶ï drawing ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá, ‡¶∏‡¶¨ drawings ‡¶è‡¶∞ list

---

## Video 7: Message Model - Message Table Design

```prisma
model Message {
  id        String   @id @default(uuid())
  content   String   @db.Text
  userId    String
  user      User     @relation(fields: [userId], references: [id])
  roomId    String
  room      Room     @relation(fields: [roomId], references: [id])
  createdAt DateTime @default(now())
}
```

**Line by Line Explanation:**

```prisma
model Message {
```
- **‡¶Æ‡¶æ‡¶®‡ßá:** Message table ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì
- **6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶∏‡¶¨ messages ‡¶≤‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶æ ‡¶ñ‡¶æ‡¶§‡¶æ

```prisma
id        String   @id @default(uuid())
```
- ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶æ message ‡¶è‡¶∞ unique ID

```prisma
content   String   @db.Text
```
- `content`: Message ‡¶è‡¶∞ ‡¶≤‡ßá‡¶ñ‡¶æ
- `@db.Text`: ‡¶¨‡¶°‡¶º text store ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Message ‡¶è ‡¶ï‡¶ø ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶Ü‡¶õ‡ßá (‡¶õ‡ßã‡¶ü ‡¶¨‡¶æ ‡¶¨‡¶°‡¶º ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã size)

```prisma
userId    String
```
- `userId`: ‡¶ï‡ßã‡¶® user ‡¶è‡¶á message ‡¶™‡¶æ‡¶†‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶§‡¶æ‡¶∞ ID

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶ï‡ßã‡¶® ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ ‡¶è‡¶á drawing ‡¶ï‡¶∞‡ßá‡¶õ‡ßá

```prisma
user      User     @relation(fields: [userId], references: [id])
```
- `user`: User table ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá connection
- `fields: [userId]`: Message table ‡¶è‡¶∞ userId column
- `references: [id]`: User table ‡¶è‡¶∞ id column

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Drawing ‡¶è‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶≤‡ßá‡¶ñ‡¶æ "‡¶è‡¶ü‡¶æ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá ‡¶∞‡¶π‡¶ø‡¶Æ" - User table ‡¶¶‡ßá‡¶ñ‡¶≤‡ßá ‡¶∞‡¶π‡¶ø‡¶Æ ‡¶ï‡ßá ‡¶™‡¶æ‡¶¨‡ßã

```prisma
roomId    String
```
- `roomId`: ‡¶ï‡ßã‡¶® room ‡¶è message ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá

```prisma
room      Room     @relation(fields: [roomId], references: [id])
```
- Room table ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá connection

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶ï‡ßã‡¶® classroom ‡¶è ‡¶è‡¶á drawing ‡¶Ü‡¶Å‡¶ï‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá

```prisma
createdAt DateTime @default(now())
```
- Message ‡¶ï‡¶ñ‡¶® ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá

---

## Video 8: Room Model - Chat Room Table

```prisma
model Room {
  id        String    @id @default(uuid())
  name      String    @unique
  messages  Message[]
  createdAt DateTime  @default(now())
}
```

**Line by Line Explanation:**

```prisma
model Room {
```
- Chat rooms ‡¶è‡¶∞ list

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School ‡¶è‡¶∞ ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® classroom (Class 1, Class 2, etc.)

```prisma
id        String   @id @default(uuid())
```
- ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶æ room ‡¶è‡¶∞ unique ID

```prisma
name      String   @unique
```
- Room ‡¶è‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶¶‡ßÅ‡¶á‡¶ü‡¶æ room ‡¶è‡¶ï‡¶á ‡¶®‡¶æ‡¶Æ ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ)

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** "Class 1", "Class 2" - ‡¶¶‡ßÅ‡¶á‡¶ü‡¶æ classroom ‡¶è‡¶ï‡¶á ‡¶®‡¶æ‡¶Æ ‡¶π‡¶Ø‡¶º ‡¶®‡¶æ

```prisma
messages  Message[]
```
- ‡¶è‡¶á room ‡¶è ‡¶Ø‡¶§ messages ‡¶Ü‡¶õ‡ßá ‡¶∏‡¶¨

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶è‡¶ï‡¶ü‡¶æ classroom ‡¶è ‡¶Ö‡¶®‡ßá‡¶ï drawings ‡¶•‡¶æ‡¶ï‡ßá

```prisma
createdAt DateTime @default(now())
```
- Room ‡¶ï‡¶¨‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá

---

## Video 9: Database Migration ‡¶è‡¶¨‡¶Ç Prisma Client Generate

### Migration Run ‡¶ï‡¶∞‡¶æ:

```bash
npx prisma migrate dev --name init
```

**‡¶è‡¶ü‡¶æ ‡¶ï‡¶ø ‡¶ï‡¶∞‡ßá:**
- Database ‡¶è tables ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá (User, Message, Room)
- ‡¶è‡¶ï‡¶ü‡¶æ migration file ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá (history ‡¶∞‡¶æ‡¶ñ‡ßá)
- `--name init`: ‡¶è‡¶á migration ‡¶è‡¶∞ ‡¶®‡¶æ‡¶Æ "init"

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School building ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ - classrooms, benches ‡¶∏‡¶¨ ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã

### Prisma Client Generate:

```bash
npx prisma generate
```

**‡¶è‡¶ü‡¶æ ‡¶ï‡¶ø ‡¶ï‡¶∞‡ßá:**
- JavaScript code ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá ‡¶Ø‡¶æ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá database ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶¨‡ßã
- `node_modules/@prisma/client` folder ‡¶è code ‡¶Ø‡¶æ‡¶Ø‡¶º

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶è‡¶ï‡¶ü‡¶æ translator ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶Ø‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶≠‡¶æ‡¶∑‡¶æ database ‡¶è ‡¶¨‡ßÅ‡¶ù‡¶æ‡¶Ø‡¶º

---

## Video 10: Project Folder Structure ‡¶§‡ßà‡¶∞‡¶ø

### Folder Structure:

```
src/
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ user/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.service.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.routes.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user.types.ts
‚îÇ   ‚îú‚îÄ‚îÄ message/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message.service.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message.routes.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ message.types.ts
‚îÇ   ‚îî‚îÄ‚îÄ room/
‚îÇ       ‚îú‚îÄ‚îÄ room.controller.ts
‚îÇ       ‚îú‚îÄ‚îÄ room.service.ts
‚îÇ       ‚îú‚îÄ‚îÄ room.routes.ts
‚îÇ       ‚îî‚îÄ‚îÄ room.types.ts
‚îú‚îÄ‚îÄ socket/
‚îÇ   ‚îî‚îÄ‚îÄ socket.handler.ts
‚îú‚îÄ‚îÄ middlewares/
‚îÇ   ‚îî‚îÄ‚îÄ auth.middleware.ts
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ prisma.ts
‚îÇ   ‚îî‚îÄ‚îÄ jwt.ts
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ env.ts
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îî‚îÄ‚îÄ server.ts
```

**Folder ‡¶è‡¶∞ ‡¶ï‡¶æ‡¶ú:**

- **modules/**: ‡¶∏‡¶¨ features ‡¶è‡¶∞ code (user, message, room)
- **socket/**: Socket.io ‡¶è‡¶∞ code (real-time)
- **middlewares/**: Security check ‡¶ï‡¶∞‡¶æ‡¶∞ code
- **utils/**: Helper functions (‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø‡¶ï‡¶æ‡¶∞‡ßÄ)
- **config/**: Settings ‡¶∞‡¶æ‡¶ñ‡ßá
- **public/**: HTML, CSS files
- **server.ts**: Main file ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶¨ ‡¶∂‡ßÅ‡¶∞‡ßÅ

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- ‡¶è‡¶ï‡¶ü‡¶æ school ‡¶è‡¶∞ ‡¶Æ‡¶§‡ßã
- `modules/` = Different subjects (Bangla, English, Math)
- `socket/` = School bell (‡¶∏‡¶¨‡¶æ‡¶á‡¶ï‡ßá ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶ú‡¶æ‡¶®‡¶æ‡¶Ø‡¶º)
- `middlewares/` = School gate guard (check ‡¶ï‡¶∞‡ßá ‡¶ï‡ßá ‡¶¢‡ßÅ‡¶ï‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá)
- `utils/` = School tools (pen, pencil, eraser)
- `server.ts` = Principal office (‡¶∏‡¶¨ control ‡¶ï‡¶∞‡ßá)

---

## Video 11: Prisma Utility File

### src/utils/prisma.ts:

```typescript
import { PrismaClient } from '@prisma/client';

export const prisma = new PrismaClient();
```

**Line by Line Explanation:**

```typescript
import { PrismaClient } from '@prisma/client';
```
- **import**: ‡¶Ö‡¶®‡ßç‡¶Ø file ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶∏‡¶æ
- **PrismaClient**: Prisma ‡¶è‡¶∞ main tool
- **from '@prisma/client'**: ‡¶ï‡ßã‡¶® package ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶ø‡¶ö‡ßç‡¶õ‡¶ø

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Library ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶æ ‡¶¨‡¶á ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶∏‡¶æ

```typescript
export const prisma = new PrismaClient();
```
- **export**: ‡¶Ö‡¶®‡ßç‡¶Ø‡¶∞‡¶æ ‡¶è‡¶ü‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá
- **const prisma**: ‡¶è‡¶ï‡¶ü‡¶æ variable ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã
- **new PrismaClient()**: Prisma ‡¶è‡¶∞ ‡¶è‡¶ï‡¶ü‡¶æ ‡¶®‡¶§‡ßÅ‡¶® copy ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- ‡¶è‡¶ï‡¶ü‡¶æ ‡¶®‡¶§‡ßÅ‡¶® phone ‡¶ï‡¶ø‡¶®‡¶≤‡¶æ‡¶Æ
- `export` = ‡¶∏‡¶¨‡¶æ‡¶á ‡¶è‡¶á phone ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá
- ‡¶è‡¶á phone ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá database ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶¨‡ßã

---

## Video 12: JWT (Token) Utility Functions

### src/utils/jwt.ts:

```typescript
import jwt from 'jsonwebtoken';

export const generateToken = (userId: string): string => {
  return jwt.sign({ userId }, process.env.JWT_SECRET!, { expiresIn: '7d' });
};

export const verifyToken = (token: string): any => {
  return jwt.verify(token, process.env.JWT_SECRET!);
};
```

**Function 1: generateToken**

```typescript
import jwt from 'jsonwebtoken';
```
- `jwt`: Token ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã‡¶∞ library

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ID card printer machine

```typescript
export const generateToken = (userId: string): string => {
```
- **export**: ‡¶Ö‡¶®‡ßç‡¶Ø‡¶∞‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá
- **generateToken**: Function ‡¶è‡¶∞ ‡¶®‡¶æ‡¶Æ (Token ‡¶¨‡¶æ‡¶®‡¶æ‡¶Ø‡¶º)
- **(userId: string)**: Input parameter - user ‡¶è‡¶∞ ID (text)
- **: string**: Output - ‡¶è‡¶ï‡¶ü‡¶æ text return ‡¶ï‡¶∞‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶è‡¶ï‡¶ü‡¶æ function ‡¶Ø‡¶æ‡¶ï‡ßá user ID ‡¶¶‡¶ø‡¶≤‡ßá ‡¶∏‡ßá ‡¶è‡¶ï‡¶ü‡¶æ special card ‡¶¨‡¶æ‡¶®‡¶æ‡¶Ø‡¶º

```typescript
return jwt.sign({ userId }, process.env.JWT_SECRET!, { expiresIn: '7d' });
```
- **jwt.sign()**: Token ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã‡¶∞ function
- **{ userId }**: Token ‡¶è user ID ‡¶≤‡¶ø‡¶ñ‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá
- **process.env.JWT_SECRET!**: Secret password (.env file ‡¶•‡ßá‡¶ï‡ßá)
- **{ expiresIn: '7d' }**: 7 ‡¶¶‡¶ø‡¶® ‡¶™‡¶∞ expire ‡¶π‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- ‡¶è‡¶ï‡¶ü‡¶æ ID card ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã
- Card ‡¶è ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ roll number ‡¶≤‡ßá‡¶ñ‡¶æ
- Secret ink ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶Ø‡ßá‡¶® ‡¶ï‡ßá‡¶â ‡¶®‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶§‡ßá ‡¶®‡¶æ ‡¶™‡¶æ‡¶∞‡ßá
- 7 ‡¶¶‡¶ø‡¶® ‡¶™‡¶∞ card ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá ‡¶®‡¶æ

**Function 2: verifyToken**

```typescript
export const verifyToken = (token: string): any => {
```
- Token check ‡¶ï‡¶∞‡¶æ‡¶∞ function
- Input: ‡¶è‡¶ï‡¶ü‡¶æ token (text)
- Output: Token ‡¶è ‡¶ï‡¶ø ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶Ü‡¶õ‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ID card check ‡¶ï‡¶∞‡¶æ machine

```typescript
return jwt.verify(token, process.env.JWT_SECRET!);
```
- **jwt.verify()**: Token check ‡¶ï‡¶∞‡ßá
- **token**: ‡¶Ø‡ßá token check ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá
- **process.env.JWT_SECRET!**: Secret password ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá check ‡¶ï‡¶∞‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Card reader machine
- Card scan ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡¶≤‡ßá ‡¶è‡¶ü‡¶æ ‡¶ï‡¶æ‡¶∞ card
- Fake card ‡¶π‡¶≤‡ßá ‡¶ß‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡ßá

---

## Video 13: Environment Configuration

### src/config/env.ts:

```typescript
import dotenv from 'dotenv';
dotenv.config();

export const config = {
  port: process.env.PORT || 3000,
  jwtSecret: process.env.JWT_SECRET!,
  databaseUrl: process.env.DATABASE_URL!
};
```

**Line by Line:**

```typescript
import dotenv from 'dotenv';
```
- `.env` file ‡¶™‡¶°‡¶º‡¶æ‡¶∞ library

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Secret notebook ‡¶™‡¶°‡¶º‡¶æ‡¶∞ tool

```typescript
dotenv.config();
```
- `.env` file ‡¶ü‡¶æ ‡¶™‡¶°‡¶º‡ßã ‡¶è‡¶¨‡¶Ç load ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Notebook ‡¶ñ‡ßÅ‡¶≤‡ßá ‡¶∏‡¶¨ secrets ‡¶™‡¶°‡¶º‡ßá memory ‡¶§‡ßá ‡¶∞‡¶æ‡¶ñ‡ßã

```typescript
export const config = {
```
- ‡¶è‡¶ï‡¶ü‡¶æ object ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶õ‡¶ø ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶¨ settings ‡¶•‡¶æ‡¶ï‡¶¨‡ßá

```typescript
port: process.env.PORT || 3000,
```
- **process.env.PORT**: .env file ‡¶•‡ßá‡¶ï‡ßá PORT ‡¶™‡¶°‡¶º‡ßã
- **|| 3000**: ‡¶Ø‡¶¶‡¶ø ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá ‡¶§‡¶æ‡¶π‡¶≤‡ßá 3000 use ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Server ‡¶ï‡ßã‡¶® door number ‡¶è ‡¶ñ‡ßÅ‡¶≤‡¶¨‡ßá
- Notebook ‡¶è ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶∏‡ßá‡¶ü‡¶æ use ‡¶ï‡¶∞‡ßã
- ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá door number 3000 use ‡¶ï‡¶∞‡ßã

```typescript
jwtSecret: process.env.JWT_SECRET!,
```
- JWT secret key `.env` ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶æ‡¶ì
- `!` = ‡¶è‡¶ü‡¶æ ‡¶Ü‡¶õ‡ßá‡¶á (must ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶π‡¶¨‡ßá)

```typescript
databaseUrl: process.env.DATABASE_URL!
```
- Database ‡¶è‡¶∞ address `.env` ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶æ‡¶ì

---

## Video 14: Authentication Middleware - Security Guard

### src/middlewares/auth.middleware.ts:

```typescript
import { FastifyRequest, FastifyReply } from 'fastify';
import { verifyToken } from '../utils/jwt';

export const authMiddleware = async (req: FastifyRequest, reply: FastifyReply) => {
  try {
    const token = req.headers.authorization?.split(' ')[1];
    
    if (!token) {
      return reply.code(401).send({ error: 'Unauthorized' });
    }

    const decoded = verifyToken(token);
    (req as any).userId = decoded.userId;
  } catch (error) {
    return reply.code(401).send({ error: 'Invalid token' });
  }
};
```

**Line by Line:**

```typescript
import { FastifyRequest, FastifyReply } from 'fastify';
```
- Request ‡¶è‡¶¨‡¶Ç Reply ‡¶è‡¶∞ type import ‡¶ï‡¶∞‡¶õ‡¶ø

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Request = ‡¶ï‡ßá‡¶â ‡¶¶‡¶∞‡¶ú‡¶æ‡¶Ø‡¶º knock ‡¶ï‡¶∞‡¶æ
- Reply = ‡¶¶‡¶∞‡¶ú‡¶æ ‡¶ñ‡ßÅ‡¶≤‡ßá ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ

```typescript
import { verifyToken } from '../utils/jwt';
```
- Token check ‡¶ï‡¶∞‡¶æ‡¶∞ function ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶è‡¶≤‡¶æ‡¶Æ

```typescript
export const authMiddleware = async (req: FastifyRequest, reply: FastifyReply) => {
```
- **authMiddleware**: Security guard function
- **async**: ‡¶è‡¶ü‡¶æ ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶®‡¶ø‡¶¨‡ßá (wait ‡¶ï‡¶∞‡¶¨‡ßá)
- **req**: User ‡¶è‡¶∞ request
- **reply**: Server ‡¶è‡¶∞ ‡¶â‡¶§‡ßç‡¶§‡¶∞

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School gate ‡¶è ‡¶è‡¶ï‡¶ú‡¶® guard ‡¶¨‡¶∏‡ßá ‡¶Ü‡¶õ‡ßá

```typescript
try {
```
- ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßã (error ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá)

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶∏‡¶æ‡¶¨‡¶ß‡¶æ‡¶®‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßã, ‡¶≠‡ßÅ‡¶≤ ‡¶π‡¶≤‡ßá ‡¶ß‡¶∞‡¶¨‡ßã

```typescript
const token = req.headers.authorization?.split(' ')[1];
```
- **req.headers.authorization**: Request ‡¶è token ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º ‡¶Ü‡¶õ‡ßá
- **?.split(' ')**: "Bearer token123" ‡¶•‡ßá‡¶ï‡ßá "token123" ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶ï‡¶∞‡ßã
- **[1]**: ‡¶¶‡ßç‡¶¨‡¶ø‡¶§‡ßÄ‡¶Ø‡¶º ‡¶Ö‡¶Ç‡¶∂ ‡¶®‡¶æ‡¶ì

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- User ‡¶¨‡¶≤‡¶õ‡ßá "‡¶Ü‡¶Æ‡¶æ‡¶∞ ID card ‡¶π‡¶≤‡ßã Bearer ABC123"
- ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∂‡ßÅ‡¶ß‡ßÅ "ABC123" ‡¶®‡¶ø‡¶ö‡ßç‡¶õ‡¶ø

```typescript
if (!token) {
  return reply.code(401).send({ error: 'Unauthorized' });
}
```
- **if (!token)**: ‡¶Ø‡¶¶‡¶ø token ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá
- **reply.code(401)**: 401 error code ‡¶™‡¶æ‡¶†‡¶æ‡¶ì (Unauthorized)
- **send({ error: 'Unauthorized' })**: Error message

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- ID card ‡¶®‡ßá‡¶á?
- ‡¶§‡¶æ‡¶π‡¶≤‡ßá school ‡¶è ‡¶¢‡ßÅ‡¶ï‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ!

```typescript
const decoded = verifyToken(token);
```
- Token check ‡¶ï‡¶∞‡ßã ‡¶è‡¶¨‡¶Ç ‡¶≠‡¶ø‡¶§‡¶∞‡ßá‡¶∞ information ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ID card scan ‡¶ï‡¶∞‡ßã, ‡¶ï‡¶æ‡¶∞ card ‡¶¶‡ßá‡¶ñ‡ßã

```typescript
(req as any).userId = decoded.userId;
```
- Request ‡¶è user ID save ‡¶ï‡¶∞‡ßá ‡¶∞‡¶æ‡¶ñ‡ßã (‡¶™‡¶∞‡ßá ‡¶ï‡¶æ‡¶ú‡ßá ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá)

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Guard ‡¶è‡¶∞ notebook ‡¶è ‡¶≤‡¶ø‡¶ñ‡ßá ‡¶∞‡¶æ‡¶ñ‡¶≤‡ßã "‡¶è‡¶á ‡¶õ‡ßá‡¶≤‡ßá‡¶∞ roll number 5"

```typescript
} catch (error) {
  return reply.code(401).send({ error: 'Invalid token' });
}
```
- ‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßã‡¶®‡ßã error ‡¶π‡¶Ø‡¶º (fake token)
- ‡¶§‡¶æ‡¶π‡¶≤‡ßá 401 error ‡¶™‡¶æ‡¶†‡¶æ‡¶ì

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Fake ID card ‡¶ß‡¶∞‡¶æ ‡¶™‡¶°‡¶º‡ßá‡¶õ‡ßá! ‡¶¢‡ßÅ‡¶ï‡¶§‡ßá ‡¶¶‡¶ø‡¶ì ‡¶®‡¶æ!

---

## Video 15: User Types Definition

### src/modules/user/user.types.ts:

```typescript
export interface CreateUserInput {
  username: string;
  email: string;
  password: string;
}

export interface LoginInput {
  email: string;
  password: string;
}
```

**Line by Line:**

```typescript
export interface CreateUserInput {
```
- **export**: ‡¶Ö‡¶®‡ßç‡¶Ø‡¶∞‡¶æ use ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá
- **interface**: ‡¶è‡¶ï‡¶ü‡¶æ blueprint/format
- **CreateUserInput**: ‡¶®‡¶§‡ßÅ‡¶® user ‡¶§‡ßà‡¶∞‡¶ø‡¶∞ format

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- School ‡¶è ‡¶≠‡¶∞‡ßç‡¶§‡¶ø‡¶∞ form
- ‡¶ï‡¶ø ‡¶ï‡¶ø ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶§‡ßá ‡¶π‡¶¨‡ßá ‡¶∏‡ßá‡¶á ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ

```typescript
username: string;
```
- `username` field ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ü‡¶æ text ‡¶π‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Form ‡¶è "‡¶®‡¶æ‡¶Æ" ‡¶≤‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ

```typescript
email: string;
```
- Email address (text)

```typescript
password: string;
```
- Password (text)

```typescript
export interface LoginInput {
  email: string;
  password: string;
}
```
- Login ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶ï‡¶ø ‡¶ï‡¶ø ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá
- ‡¶∂‡ßÅ‡¶ß‡ßÅ email ‡¶è‡¶¨‡¶Ç password

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- School ‡¶è ‡¶¢‡ßã‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶ï‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶§‡ßá ‡¶π‡¶Ø‡¶º
- ‡¶∂‡ßÅ‡¶ß‡ßÅ ID card (email + password)

---

## Video 16: User Service - Business Logic

### src/modules/user/user.service.ts:

```typescript
import bcrypt from 'bcryptjs';
import { prisma } from '../../utils/prisma';
import { generateToken } from '../../utils/jwt';
import { CreateUserInput, LoginInput } from './user.types';

export class UserService {
  async register(data: CreateUserInput) {
    const hashedPassword = await bcrypt.hash(data.password, 10);
    
    const user = await prisma.user.create({
      data: {
        username: data.username,
        email: data.email,
        password: hashedPassword
      }
    });

    const token = generateToken(user.id);
    return { user: { id: user.id, username: user.username, email: user.email }, token };
  }

  async login(data: LoginInput) {
    const user = await prisma.user.findUnique({ where: { email: data.email } });
    
    if (!user || !(await bcrypt.compare(data.password, user.password))) {
      throw new Error('Invalid credentials');
    }

    const token = generateToken(user.id);
    return { user: { id: user.id, username: user.username, email: user.email }, token };
  }
}
```

**Line by Line Explanation:**

```typescript
import bcrypt from 'bcryptjs';
```
- Password encrypt ‡¶ï‡¶∞‡¶æ‡¶∞ tool

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Password ‡¶ï‡ßá secret code ‡¶è ‡¶¨‡¶¶‡¶≤‡¶æ‡¶Ø‡¶º

```typescript
export class UserService {
```
- **class**: ‡¶è‡¶ï‡¶ü‡¶æ blueprint (‡¶ï‡¶æ‡¶∞‡¶ñ‡¶æ‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶§‡ßã)
- **UserService**: User related ‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** User ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶æ office

**Register Function:**

```typescript
async register(data: CreateUserInput) {
```
- **async**: ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá (database ‡¶è ‡¶Ø‡ßá‡¶§‡ßá ‡¶π‡¶¨‡ßá)
- **register**: ‡¶®‡¶§‡ßÅ‡¶® user ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ function
- **data: CreateUserInput**: Input data (username, email, password)

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School ‡¶è ‡¶®‡¶§‡ßÅ‡¶® student ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ function

```typescript
const hashedPassword = await bcrypt.hash(data.password, 10);
```
- **await**: Wait ‡¶ï‡¶∞‡ßã
- **bcrypt.hash()**: Password ‡¶ï‡ßá secret code ‡¶è ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßã
- **data.password**: User ‡¶è‡¶∞ ‡¶Ü‡¶∏‡¶≤ password
- **10**: ‡¶ï‡¶§‡¶¨‡¶æ‡¶∞ mix ‡¶ï‡¶∞‡¶¨‡ßá (strength)

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ password "hello123"
- ‡¶è‡¶ü‡¶æ ‡¶¨‡¶¶‡¶≤‡ßá ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá "$2a$10$abcd..." (‡¶ï‡ßá‡¶â ‡¶¨‡ßÅ‡¶ù‡¶¨‡ßá ‡¶®‡¶æ)
- 10 ‡¶¨‡¶æ‡¶∞ ‡¶Æ‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶∞‡¶ì strong ‡¶ï‡¶∞‡¶æ

```typescript
const user = await prisma.user.create({
```
- **await**: Wait ‡¶ï‡¶∞‡ßã
- **prisma.user.create()**: Database ‡¶è ‡¶®‡¶§‡ßÅ‡¶® user ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Register khata ‡¶§‡ßá ‡¶®‡¶æ‡¶Æ ‡¶≤‡ßá‡¶ñ‡¶æ

```typescript
data: {
  username: data.username,
  email: data.email,
  password: hashedPassword
}
```
- Database ‡¶è ‡¶ï‡¶ø ‡¶ï‡¶ø save ‡¶ï‡¶∞‡¶¨‡ßá
- Username, email ‡¶Ü‡¶∞ encrypted password

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Khata ‡¶§‡ßá ‡¶≤‡¶ø‡¶ñ‡¶õ‡¶ø: ‡¶®‡¶æ‡¶Æ, email, secret password

```typescript
const token = generateToken(user.id);
```
- User ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶æ token/ID card ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì

```typescript
return { user: { id: user.id, username: user.username, email: user.email }, token };
```
- Return ‡¶ï‡¶∞‡ßã: user info + token

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Student ‡¶ï‡ßá ‡¶¨‡¶≤‡¶≤‡¶æ‡¶Æ: "‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ roll number 5, ‡¶®‡¶æ‡¶Æ ‡¶∞‡¶π‡¶ø‡¶Æ"
- ‡¶Ü‡¶∞ ‡¶è‡¶ï‡¶ü‡¶æ ID card ‡¶¶‡¶ø‡¶≤‡¶æ‡¶Æ

**Login Function:**

```typescript
async login(data: LoginInput) {
```
- Login ‡¶ï‡¶∞‡¶æ‡¶∞ function
- Input: email + password

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School gate ‡¶è ‡¶¢‡ßã‡¶ï‡¶æ‡¶∞ function

```typescript
const user = await prisma.user.findUnique({ where: { email: data.email } });
```
- **findUnique()**: Database ‡¶è user ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßã
- **where: { email: ... }**: ‡¶ï‡ßã‡¶® email ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Register khata ‡¶§‡ßá ‡¶è‡¶á email ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ ‡¶¶‡ßá‡¶ñ‡ßã

```typescript
if (!user || !(await bcrypt.compare(data.password, user.password))) {
  throw new Error('Invalid credentials');
}
```
- **if (!user)**: User ‡¶®‡¶æ ‡¶™‡ßá‡¶≤‡ßá
- **||**: ‡¶Ö‡¶•‡¶¨‡¶æ
- **bcrypt.compare()**: Password match ‡¶ï‡¶∞‡ßá ‡¶ï‡¶ø‡¶®‡¶æ check ‡¶ï‡¶∞‡ßã
- **throw new Error()**: Error throw ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- User ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶™‡¶æ‡¶ì‡¶®‡¶ø? ‡¶Ö‡¶•‡¶¨‡¶æ Password ‡¶≠‡ßÅ‡¶≤?
- ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶¨‡¶≤‡ßã "‡¶≠‡ßÅ‡¶≤ email/password"

```typescript
const token = generateToken(user.id);
return { user: { id: user.id, username: user.username, email: user.email }, token };
```
- Token ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì ‡¶è‡¶¨‡¶Ç user info + token return ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- ‡¶∏‡¶¨ ‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá!
- ‡¶®‡¶§‡ßÅ‡¶® ID card ‡¶¶‡¶æ‡¶ì ‡¶è‡¶¨‡¶Ç school ‡¶è ‡¶¢‡ßÅ‡¶ï‡¶§‡ßá ‡¶¶‡¶æ‡¶ì

---

## Video 17: User Controller - Request Handler

### src/modules/user/user.controller.ts:

```typescript
import { FastifyRequest, FastifyReply } from 'fastify';
import { UserService } from './user.service';
import { CreateUserInput, LoginInput } from './user.types';

export class UserController {
  private userService: UserService;

  constructor() {
    this.userService = new UserService();
  }

  async register(req: FastifyRequest<{ Body: CreateUserInput }>, reply: FastifyReply) {
    try {
      const result = await this.userService.register(req.body);
      return reply.code(201).send(result);
    } catch (error: any) {
      return reply.code(400).send({ error: error.message });
    }
  }

  async login(req: FastifyRequest<{ Body: LoginInput }>, reply: FastifyReply) {
    try {
      const result = await this.userService.login(req.body);
      return reply.code(200).send(result);
    } catch (error: any) {
      return reply.code(401).send({ error: error.message });
    }
  }
}
```

**Line by Line:**

```typescript
export class UserController {
```
- **Controller**: Request receive ‡¶ï‡¶∞‡ßá ‡¶è‡¶¨‡¶Ç response ‡¶™‡¶æ‡¶†‡¶æ‡¶Ø‡¶º

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School ‡¶è‡¶∞ reception desk (‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶¨‡¶æ‡¶á ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶Ü‡¶∏‡ßá)

```typescript
private userService: UserService;
```
- **private**: ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶è‡¶á class ‡¶è‡¶∞ ‡¶≠‡¶ø‡¶§‡¶∞‡ßá use ‡¶π‡¶¨‡ßá
- **userService**: UserService ‡¶è‡¶∞ ‡¶è‡¶ï‡¶ü‡¶æ copy

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Reception ‡¶è‡¶∞ ‡¶è‡¶ï‡¶ü‡¶æ phone ‡¶Ü‡¶õ‡ßá ‡¶Ø‡¶æ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá office ‡¶ï‡ßá call ‡¶ï‡¶∞‡ßá

```typescript
constructor() {
  this.userService = new UserService();
}
```
- **constructor**: Class ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶ö‡¶≤‡ßá
- **new UserService()**: UserService ‡¶è‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® copy ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Reception desk setup ‡¶ï‡¶∞‡¶æ - phone connection ‡¶ï‡¶∞‡¶æ

**Register Function:**

```typescript
async register(req: FastifyRequest<{ Body: CreateUserInput }>, reply: FastifyReply) {
```
- **req**: User ‡¶è‡¶∞ request (‡¶ï‡¶ø ‡¶ö‡¶æ‡¶á‡¶õ‡ßá)
- **Body: CreateUserInput**: Request ‡¶è‡¶∞ body ‡¶§‡ßá ‡¶ï‡¶ø ‡¶Ü‡¶õ‡ßá
- **reply**: Response ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ tool

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Student ‡¶è‡¶∏‡ßá ‡¶¨‡¶≤‡¶õ‡ßá "‡¶Ü‡¶Æ‡¶ø ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶π‡¶§‡ßá ‡¶ö‡¶æ‡¶á"
- ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶§‡¶æ‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶∂‡ßÅ‡¶®‡¶õ‡¶ø (req)
- ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ready (reply)

```typescript
try {
  const result = await this.userService.register(req.body);
  return reply.code(201).send(result);
```
- **try**: ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßã
- **this.userService.register()**: UserService ‡¶ï‡ßá ‡¶¨‡¶≤‡ßã register ‡¶ï‡¶∞‡¶§‡ßá
- **req.body**: User ‡¶Ø‡¶æ data ‡¶™‡¶æ‡¶†‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡ßá
- **reply.code(201)**: Success code (201 = Created)
- **send(result)**: Result ‡¶™‡¶æ‡¶†‡¶æ‡¶ì

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Reception ‡¶•‡ßá‡¶ï‡ßá office ‡¶ï‡ßá call ‡¶ï‡¶∞‡¶≤‡¶æ‡¶Æ "‡¶è‡¶ï‡¶ú‡¶® ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶π‡¶§‡ßá ‡¶ö‡¶æ‡¶Ø‡¶º"
- Office ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶≤‡ßã
- Student ‡¶ï‡ßá ‡¶¨‡¶≤‡¶≤‡¶æ‡¶Æ "‡¶π‡¶Ø‡¶º‡ßá ‡¶ó‡ßá‡¶õ‡ßá! ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ID card ‡¶®‡¶æ‡¶ì"

```typescript
} catch (error: any) {
  return reply.code(400).send({ error: error.message });
}
```
- ‡¶Ø‡¶¶‡¶ø error ‡¶π‡¶Ø‡¶º
- 400 code (Bad Request) ‡¶™‡¶æ‡¶†‡¶æ‡¶ì
- Error message ‡¶™‡¶æ‡¶†‡¶æ‡¶ì

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- ‡¶ï‡¶ø‡¶õ‡ßÅ problem ‡¶π‡¶≤‡ßã (‡¶Ø‡ßá‡¶Æ‡¶® email already ‡¶Ü‡¶õ‡ßá)
- Student ‡¶ï‡ßá ‡¶¨‡¶≤‡¶≤‡¶æ‡¶Æ "Sorry, ‡¶è‡¶á email ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶π‡¶¨‡ßá ‡¶®‡¶æ"

**Login Function:**

```typescript
async login(req: FastifyRequest<{ Body: LoginInput }>, reply: FastifyReply) {
```
- Login request handle ‡¶ï‡¶∞‡ßá

```typescript
try {
  const result = await this.userService.login(req.body);
  return reply.code(200).send(result);
```
- UserService ‡¶ï‡ßá ‡¶¨‡¶≤‡ßã login ‡¶ï‡¶∞‡¶§‡ßá
- 200 code (OK) ‡¶™‡¶æ‡¶†‡¶æ‡¶ì

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Student ‡¶¨‡¶≤‡¶õ‡ßá "‡¶Ü‡¶Æ‡¶ø school ‡¶è ‡¶¢‡ßÅ‡¶ï‡¶§‡ßá ‡¶ö‡¶æ‡¶á"
- Guard check ‡¶ï‡¶∞‡¶≤‡ßã, ‡¶∏‡¶¨ ‡¶†‡¶ø‡¶ï
- "‡¶Ü‡¶∏‡ßã, ‡¶è‡¶á ‡¶®‡¶æ‡¶ì ‡¶®‡¶§‡ßÅ‡¶® ID card"

```typescript
} catch (error: any) {
  return reply.code(401).send({ error: error.message });
}
```
- Error ‡¶π‡¶≤‡ßá 401 (Unauthorized)

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** "‡¶≠‡ßÅ‡¶≤ password! ‡¶¢‡ßÅ‡¶ï‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ!"

---

## Video 18: User Routes - URL Mapping

### src/modules/user/user.routes.ts:

```typescript
import { FastifyInstance } from 'fastify';
import { UserController } from './user.controller';

export const userRoutes = async (fastify: FastifyInstance) => {
  const controller = new UserController();

  fastify.post('/register', controller.register.bind(controller));
  fastify.post('/login', controller.login.bind(controller));
};
```

**Line by Line:**

```typescript
export const userRoutes = async (fastify: FastifyInstance) => {
```
- **userRoutes**: User related ‡¶∏‡¶¨ routes
- **fastify: FastifyInstance**: Main server

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School ‡¶è‡¶∞ ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® room ‡¶è‡¶∞ direction board

```typescript
const controller = new UserController();
```
- Controller ‡¶è‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® copy ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì

```typescript
fastify.post('/register', controller.register.bind(controller));
```
- **fastify.post()**: POST request handle ‡¶ï‡¶∞‡ßã
- **'/register'**: URL path (/api/users/register ‡¶π‡¶¨‡ßá)
- **controller.register**: Controller ‡¶è‡¶∞ register function call ‡¶ï‡¶∞‡ßã
- **.bind(controller)**: Function ‡¶ü‡¶æ‡¶ï‡ßá controller ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá attach ‡¶∞‡¶æ‡¶ñ‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Direction board: "‡¶≠‡¶∞‡ßç‡¶§‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø '/register' room ‡¶è ‡¶Ø‡¶æ‡¶ì"
- ‡¶ê room ‡¶è reception ‡¶Ü‡¶õ‡ßá ‡¶Ø‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá help ‡¶ï‡¶∞‡¶¨‡ßá

```typescript
fastify.post('/login', controller.login.bind(controller));
```
- Login ‡¶ï‡¶∞‡¶æ‡¶∞ route
- POST /api/users/login

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** "Login ‡¶ï‡¶∞‡¶§‡ßá '/login' room ‡¶è ‡¶Ø‡¶æ‡¶ì"

---

## Video 19-22: Room Module (Similar Pattern)

### Room Service, Controller, Routes ‡¶è‡¶ï‡¶á pattern follow ‡¶ï‡¶∞‡ßá:

**Pattern:**
1. **Service**: Business logic (database operations)
2. **Controller**: Request handling
3. **Routes**: URL mapping

### Key Room Functions:

```typescript
// Create room
async createRoom(name: string)

// Get all rooms
async getAllRooms()

// Get specific room
async getRoomById(id: string)
```

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- ‡¶®‡¶§‡ßÅ‡¶® classroom ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã
- ‡¶∏‡¶¨ classrooms ‡¶è‡¶∞ list ‡¶¶‡ßá‡¶ñ‡¶æ
- ‡¶è‡¶ï‡¶ü‡¶æ specific classroom ‡¶ñ‡ßã‡¶Å‡¶ú‡¶æ

---

## Video 23-26: Message Module

### Message Service Functions:

```typescript
// Create message
async createMessage(content: string, userId: string, roomId: string)

// Get messages by room
async getMessagesByRoom(roomId: string)
```

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Classroom ‡¶è message ‡¶≤‡ßá‡¶ñ‡¶æ
- Classroom ‡¶è‡¶∞ ‡¶∏‡¶¨ messages ‡¶™‡¶°‡¶º‡¶æ

---

## Video 27: Socket.io Handler - Real-time Magic

### src/socket/socket.handler.ts:

```typescript
import { Server } from 'socket.io';
import { MessageService } from '../modules/message/message.service';
import { verifyToken } from '../utils/jwt';

export const setupSocketHandlers = (io: Server) => {
  const messageService = new MessageService();

  io.use((socket, next) => {
    const token = socket.handshake.auth.token;
    try {
      const decoded = verifyToken(token);
      (socket as any).userId = decoded.userId;
      next();
    } catch (error) {
      next(new Error('Authentication error'));
    }
  });

  io.on('connection', (socket) => {
    console.log('User connected:', socket.id);

    socket.on('join-room', (roomId: string) => {
      socket.join(roomId);
      console.log(`User ${socket.id} joined room ${roomId}`);
    });

    socket.on('send-message', async (data: { content: string; roomId: string }) => {
      try {
        const message = await messageService.createMessage(
          data.content,
          (socket as any).userId,
          data.roomId
        );
        io.to(data.roomId).emit('new-message', message);
      } catch (error) {
        socket.emit('error', { message: 'Failed to send message' });
      }
    });

    socket.on('disconnect', () => {
      console.log('User disconnected:', socket.id);
    });
  });
};
```

**Line by Line:**

```typescript
export const setupSocketHandlers = (io: Server) => {
```
- Socket.io setup ‡¶ï‡¶∞‡¶æ‡¶∞ function
- **io**: Socket.io server

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Walkie-talkie system setup ‡¶ï‡¶∞‡¶æ

```typescript
io.use((socket, next) => {
```
- **io.use()**: Middleware (security check)
- ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶æ connection ‡¶è‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶ö‡¶≤‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Walkie-talkie ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ID check

```typescript
const token = socket.handshake.auth.token;
```
- Connection ‡¶è‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã token ‡¶®‡¶æ‡¶ì

```typescript
const decoded = verifyToken(token);
(socket as any).userId = decoded.userId;
next();
```
- Token verify ‡¶ï‡¶∞‡ßã
- User ID save ‡¶ï‡¶∞‡ßã
- ‡¶è‡¶ó‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶ì (next)

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- ID card check ‡¶ï‡¶∞‡ßã
- ‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá? ‡¶§‡¶æ‡¶π‡¶≤‡ßá walkie-talkie ‡¶¶‡¶æ‡¶ì

```typescript
io.on('connection', (socket) => {
```
- ‡¶ï‡ßá‡¶â connect ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶á function ‡¶ö‡¶≤‡¶¨‡ßá
- **socket**: ‡¶è‡¶á user ‡¶è‡¶∞ connection

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶ï‡ßá‡¶â walkie-talkie ‡¶®‡¶ø‡¶≤‡ßá

```typescript
console.log('User connected:', socket.id);
```
- Console ‡¶è print ‡¶ï‡¶∞‡ßã ‡¶ï‡ßá connect ‡¶ï‡¶∞‡¶≤‡ßã

```typescript
socket.on('join-room', (roomId: string) => {
```
- **socket.on()**: Event listener
- 'join-room' event ‡¶∂‡ßÅ‡¶®‡¶õ‡¶ø
- User ‡¶ï‡ßã‡¶®‡ßã room ‡¶è join ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶á‡¶≤‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Walkie-talkie ‡¶è ‡¶∂‡ßÅ‡¶®‡¶õ‡¶ø
- ‡¶ï‡ßá‡¶â ‡¶¨‡¶≤‡¶≤‡ßã "‡¶Ü‡¶Æ‡¶ø classroom 5 ‡¶è ‡¶Ø‡ßá‡¶§‡ßá ‡¶ö‡¶æ‡¶á"

```typescript
socket.join(roomId);
```
- ‡¶è‡¶á socket ‡¶ï‡ßá room ‡¶è add ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶§‡¶æ‡¶ï‡ßá classroom 5 ‡¶è‡¶∞ walkie-talkie channel ‡¶¶‡¶æ‡¶ì

```typescript
socket.on('send-message', async (data) => {
```
- Message ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ event ‡¶∂‡ßÅ‡¶®‡¶õ‡¶ø

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶ï‡ßá‡¶â walkie-talkie ‡¶è message ‡¶¨‡¶≤‡¶≤‡ßã

```typescript
const message = await messageService.createMessage(
  data.content,
  (socket as any).userId,
  data.roomId
);
```
- Message database ‡¶è save ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Message notebook ‡¶è ‡¶≤‡¶ø‡¶ñ‡ßá ‡¶∞‡¶æ‡¶ñ‡ßã

```typescript
io.to(data.roomId).emit('new-message', message);
```
- **io.to(roomId)**: ‡¶ê room ‡¶è‡¶∞ ‡¶∏‡¶¨‡¶æ‡¶á‡¶ï‡ßá
- **.emit()**: Message broadcast ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- Classroom 5 ‡¶è‡¶∞ ‡¶∏‡¶¨‡¶æ‡¶∞ walkie-talkie ‡¶è message ‡¶™‡¶æ‡¶†‡¶æ‡¶ì
- ‡¶∏‡¶¨‡¶æ‡¶á ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶∂‡ßÅ‡¶®‡¶¨‡ßá

```typescript
socket.on('disconnect', () => {
```
- User disconnect ‡¶ï‡¶∞‡¶≤‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Walkie-talkie ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶≤‡ßá

---

## Video 28: Main Server File - Everything Together

### src/server.ts:

```typescript
import Fastify from 'fastify';
import cors from '@fastify/cors';
import fastifyStatic from '@fastify/static';
import { Server } from 'socket.io';
import path from 'path';
import { config } from './config/env';
import { userRoutes } from './modules/user/user.routes';
import { roomRoutes } from './modules/room/room.routes';
import { messageRoutes } from './modules/message/message.routes';
import { setupSocketHandlers } from './socket/socket.handler';

const app = Fastify({ logger: true });

const start = async () => {
  try {
    await app.register(cors, { origin: '*' });
    
    await app.register(fastifyStatic, {
      root: path.join(__dirname, 'public'),
      prefix: '/'
    });

    app.get('/', async (request, reply) => {
      return reply.sendFile('index.html');
    });
    
    await app.register(userRoutes, { prefix: '/api/users' });
    await app.register(roomRoutes, { prefix: '/api/rooms' });

    await app.listen({ port: Number(config.port), host: '0.0.0.0' });

    const io = new Server(app.server, {
      cors: { origin: '*' }
    });

    await app.register(messageRoutes, { prefix: '/api/messages', io: io });

    setupSocketHandlers(io);

    console.log(`Server running on http://localhost:${config.port}`);
  } catch (error) {
    app.log.error(error);
    process.exit(1);
  }
};

start();
```

**Line by Line:**

```typescript
const app = Fastify({ logger: true });
```
- Fastify server ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßã
- **logger: true**: Console ‡¶è logs ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School building ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì, ‡¶∏‡¶¨ activity ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø

```typescript
const start = async () => {
```
- Server start ‡¶ï‡¶∞‡¶æ‡¶∞ main function

```typescript
await app.register(cors, { origin: '*' });
```
- **CORS**: Cross-Origin Resource Sharing
- **origin: '*'**: ‡¶∏‡¶¨ website ‡¶•‡ßá‡¶ï‡ßá access ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶∏‡¶¨ area ‡¶•‡ßá‡¶ï‡ßá students ‡¶Ü‡¶∏‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá

```typescript
await app.register(fastifyStatic, {
  root: path.join(__dirname, 'public'),
  prefix: '/'
});
```
- Static files (HTML, CSS) serve ‡¶ï‡¶∞‡ßã
- **root**: ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º files ‡¶Ü‡¶õ‡ßá
- **prefix**: URL ‡¶è‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School ‡¶è‡¶∞ notice board setup ‡¶ï‡¶∞‡ßã

```typescript
app.get('/', async (request, reply) => {
  return reply.sendFile('index.html');
});
```
- Root URL (/) ‡¶è index.html ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Main gate ‡¶è ‡¶Ø‡ßá ‡¶Ü‡¶∏‡¶¨‡ßá ‡¶§‡¶æ‡¶ï‡ßá welcome page ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì

```typescript
await app.register(userRoutes, { prefix: '/api/users' });
```
- User routes register ‡¶ï‡¶∞‡ßã
- ‡¶∏‡¶¨ routes ‡¶è‡¶∞ ‡¶Ü‡¶ó‡ßá '/api/users' ‡¶•‡¶æ‡¶ï‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** "User office ‡¶π‡¶≤‡ßã Building A ‡¶§‡ßá"

```typescript
await app.listen({ port: Number(config.port), host: '0.0.0.0' });
```
- **listen()**: Server ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡ßã
- **port**: ‡¶ï‡ßã‡¶® port ‡¶è (3000)
- **host: '0.0.0.0'**: ‡¶∏‡¶¨ ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ ‡¶•‡ßá‡¶ï‡ßá access ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School ‡¶è‡¶∞ gate ‡¶ñ‡ßÅ‡¶≤‡ßá ‡¶¶‡¶æ‡¶ì, door number 3000

```typescript
const io = new Server(app.server, {
  cors: { origin: '*' }
});
```
- Socket.io server ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßã
- Fastify server ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá attach ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School ‡¶è walkie-talkie system ‡¶≤‡¶æ‡¶ó‡¶æ‡¶ì

```typescript
setupSocketHandlers(io);
```
- Socket handlers setup ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Walkie-talkie system ‡¶è‡¶∞ ‡¶∏‡¶¨ rules ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì

```typescript
console.log(`Server running on http://localhost:${config.port}`);
```
- Console ‡¶è message ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** ‡¶¨‡¶≤‡ßã "School ‡¶ñ‡ßÅ‡¶≤‡ßá ‡¶ó‡ßá‡¶õ‡ßá!"

---

## Video 29: HTML Client - Frontend Magic

### HTML Client ‡¶è‡¶∞ Main Parts:

**1. Authentication (Login/Register)**
```javascript
// Register
fetch('/api/users/register', {
  method: 'POST',
  body: JSON.stringify({ username, email, password })
})
```

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- School office ‡¶è ‡¶ó‡¶ø‡¶Ø‡¶º‡ßá ‡¶¨‡¶≤‡¶æ "‡¶Ü‡¶Æ‡¶ø ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶π‡¶§‡ßá ‡¶ö‡¶æ‡¶á"
- Form fill up ‡¶ï‡¶∞‡¶æ

**2. Socket Connection**
```javascript
socket = io(API_URL, {
  auth: { token: authToken }
});
```

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Walkie-talkie ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ (ID card ‡¶¶‡ßá‡¶ñ‡¶ø‡¶Ø‡¶º‡ßá)

**3. Join Room**
```javascript
socket.emit('join-room', roomId);
```

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Classroom ‡¶è ‡¶¢‡ßã‡¶ï‡¶æ

**4. Send Message**
```javascript
socket.emit('send-message', {
  content: content,
  roomId: currentRoom.id
});
```

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Walkie-talkie ‡¶§‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶æ

**5. Receive Message**
```javascript
socket.on('new-message', (message) => {
  displayMessage(message);
});
```

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** Walkie-talkie ‡¶•‡ßá‡¶ï‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø‡¶¶‡ßá‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶∂‡ßã‡¶®‡¶æ

---

## Video 30: Testing ‡¶è‡¶¨‡¶Ç Debugging

### ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá Test ‡¶ï‡¶∞‡¶¨‡ßã:

**1. Server Start ‡¶ï‡¶∞‡ßã:**
```bash
npm run dev
```

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** School ‡¶ñ‡ßã‡¶≤‡ßã

**2. Browser ‡¶è ‡¶ñ‡ßã‡¶≤‡ßã:**
```
http://localhost:3000
```

**3. Multiple Users Test:**
- 2‡¶ü‡¶æ browser window ‡¶ñ‡ßã‡¶≤‡ßã
- 2‡¶ú‡¶® ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ user register ‡¶ï‡¶∞‡ßã
- Same room ‡¶è join ‡¶ï‡¶∞‡ßã
- Message ‡¶™‡¶æ‡¶†‡¶æ‡¶ì ‡¶è‡¶¨‡¶Ç receive ‡¶ï‡¶∞‡ßã

**6 ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ:** 
- 2‡¶ü‡¶æ walkie-talkie ‡¶®‡¶æ‡¶ì
- ‡¶è‡¶ï‡¶á channel ‡¶è ‡¶•‡¶æ‡¶ï‡ßã
- ‡¶è‡¶ï‡¶ú‡¶® ‡¶¨‡¶≤‡¶≤‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø‡¶ú‡¶® ‡¶∂‡ßÅ‡¶®‡¶¨‡ßá

### Common Errors ‡¶è‡¶¨‡¶Ç Solutions:

**Error 1: "Port 3000 already in use"**
- **‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ:** ‡¶Ü‡¶ó‡ßá‡¶∞ server ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡¶Ø‡¶º‡¶®‡¶ø
- **‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®:** `kill -9 $(lsof -t -i:3000)` (Mac/Linux)

**Error 2: "Database connection failed"**
- **‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ:** MySQL ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶®‡ßá‡¶á
- **‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®:** MySQL start ‡¶ï‡¶∞‡ßã

**Error 3: "Invalid token"**
- **‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ:** Token expire ‡¶π‡¶Ø‡¶º‡ßá ‡¶ó‡ßá‡¶õ‡ßá
- **‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®:** ‡¶Ü‡¶¨‡¶æ‡¶∞ login ‡¶ï‡¶∞‡ßã

---

## Complete Flow Diagram:

```
User ‚Üí Browser ‚Üí HTML Client
         ‚Üì
    Register/Login (HTTP)
         ‚Üì
    Server (Fastify) ‚Üí Database (MySQL)
         ‚Üì
    Get Token
         ‚Üì
    Connect Socket.io (WebSocket)
         ‚Üì
    Join Room
         ‚Üì
    Send Message ‚Üí Server ‚Üí Database ‚Üí Broadcast
         ‚Üì
    All Users in Room receive (Real-time)
```

---

## Package.json Scripts:

```json
{
  "scripts": {
    "dev": "ts-node-dev --respawn --transpile-only src/server.ts",
    "build": "tsc",
    "start": "node dist/server.js",
    "prisma:generate": "prisma generate",
    "prisma:migrate": "prisma migrate dev"
  }
}
```

**Scripts Explanation:**

- **dev**: Development mode (auto restart)
- **build**: TypeScript compile ‡¶ï‡¶∞‡ßã
- **start**: Production mode
- **prisma:generate**: Prisma client generate
- **prisma:migrate**: Database migration

---

## ‡¶Ü‡¶∞‡¶ì ‡¶∂‡¶ø‡¶ñ‡¶§‡ßá:

1. Error handling improve ‡¶ï‡¶∞‡¶æ
2. File upload feature ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ
3. Typing indicator (‡¶ï‡ßá type ‡¶ï‡¶∞‡¶õ‡ßá)
4. Online/offline status
5. Message read receipts
6. Group management
7. Private messaging
8. Notifications
9. Testing (Jest, Supertest)
10. Deployment (Production ‡¶è ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ)

---

## ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂:

‡¶è‡¶á chat application ‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø modern, scalable ‡¶è‡¶¨‡¶Ç real-time messaging system‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø part ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶Æ‡¶ø‡¶≤‡ßá ‡¶è‡¶ï‡¶ü‡¶ø complete system ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá‡•§

**Key Concepts:**
- **MVC Pattern**: Clean code organization
- **TypeScript**: Type safety
- **Prisma**: Easy database handling
- **Socket.io**: Real-time communication
- **JWT**: Secure authentication
- **Fastify**: Fast server

‡¶Ü‡¶∂‡¶æ ‡¶ï‡¶∞‡¶ø ‡¶è‡¶á tutorial ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡¶¨‡ßá! üöÄ
